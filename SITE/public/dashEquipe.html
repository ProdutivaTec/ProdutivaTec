<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="./css/dashEquipe.css">
    <link rel="stylesheet" href="./css/notificações.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body onload="validarSessao()">
    <section class="container">
        <aside class="sidebar">
            <div class="imgDash" id="theme-dash">
                <img src="./assets/img/LOGO.png" id="theme-logo" alt="Logo">
            </div>
            <br>
            <div class="divMenu">
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/Dash.png" alt="Dashboards Icon">
                    Dashboards
                </div>
                <div class="menu-item" id="openModalBtn">
                    <img class="icon" src="./assets/icon/Notificações.png" alt="Notificações Icon">
                    Notificações
                </div>
                <a href="./calendario.html">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/calendario (1) 1.png" alt="Suporte - IA Icon">
                        Eventos
                    </div>
                </a>
                <a href="http://localhost:8080">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/Suporte.png" alt="Suporte - IA Icon">
                        Suporte - IA
                    </div>
                </a>
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/Configurações.png" alt="Configurações Icon">
                    Configurações
                </div>
            </div>
            <div class="itemExit">
                <p class="pSidebar">Sair</p>
                <img class="iconE" src="./assets/icon/Sair.png" alt="Sair Icon">
            </div>
        </aside>

        <header class="headerDash">
            <div class="headerRight">
                <div class="funcionalidadesHeader" id="theme-toggle">
                    <img src="./assets/icon/Light.png" alt="Tema Claro" id="theme-icon">
                </div>
                <div class="vertical"></div>
                <div class="funcionalidadesHeader" id="theme-header1">
                    <img src="./assets/icon/image 35.png" id="theme-noti" alt="">
                </div>
                <div class="funcionalidadesHeader" id="theme-header2">
                    <img src="./assets/icon/image 34.png" id="theme-confg" alt="">
                </div>
                <div class="vertical"></div>
            </div>
        </header>

        <section class="graficosDash">
            <div class="textEmpresa">
                <Span class="tittleEmpresa">FINANCEIRO</Span>
                <p class="subtittleEmpresa">100 colaboradores</p>
            </div>
            <div class="dashTop">
                <div class="KPI1" id="KPI1">
                    <p class="subtittleEmpresa">GENÊRO</p>
                    <div class="infoKPI1">
                        <div class="qtdPessoasM">
                            <Span class="textDados"> 48</Span>
                            <p class="textTitulosKpis">MASCULINO</p>
                        </div>
                        <img class="imgSexo" src="./assets/icon/banheiro 1.png" alt="">
                        <hr>
                        <img class="imgSexo" src="./assets/icon/banheiro 2.png" alt="">
                        <div class="qtdPessoas">
                            <Span class="textDados"> 52</Span>
                            <p class="textTitulosKpis">FEMININO</p>
                        </div>
                    </div>
                </div>
                <div class="KPI2">
                    <Span class="textDadosG"> 90%.</Span>
                    <p class="textTitulosKpis">RESPONDERAM SUA <br> PESQUISA</p>
                </div>

                <div class="area2Kpis">
                    <div class="KPI3">
                        <div class="satisfacao">
                            <Span class="textDados"> 75%</Span>
                            <p class="textTitulosKpis">Mais produtivo no <br> trabalho remoto</p>
                        </div>
                    </div>
                    <div class="KPI3">
                        <div class="satisfacao">
                            <Span class="textDados"> 25%</Span>
                            <p class="textTitulosKpis">Mais produtivo no <br> trabalho  presencial </p>
                        </div>
                    </div>
                </div>
                <div class="KPI22">
                    <Span class="textDadosG">48%</Span>
                    <p class="textTitulosKpis">RECOMENDARIAM SUA <br>EMPRESA</p>
                </div>
            </div>


            <div class="dashBottom">
                <div class="KPI6">
                    <div class="tituloKpi1">
                        <span class="tittleEmpresa"> Feedback </span>
                        <select name="" id="">
                            <option value="">produtividade</option>
                            <option value="">desempenho</option>
                        </select>
                    </div>
                        <p class="subtittleEmpresaG1">por equipe</p>
                        <canvas id="feedbackEquipes"></canvas>
                </div>

                <div class="KPI4">
                    <span class="tittleEmpresa"> Comparação por equipes</span>
                    <canvas id="comparacaoEquipes"></canvas>
                </div>

                <div class="KPI5">
                    <div class="tituloKpi3">
                        <span class="tittleEmpresaG3"> Piores aspectos <br> do trabalho </span>
                        <select name="" id="">
                            <option value="">produtividade</option>
                            <option value="">desempenho</option>
                        </select>
                    </div>
                     <canvas id="GraficoPiorAspecto" width="400" height="300"></canvas>

                </div>
            </div>
        </section>

    </section>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Notificações</h2>
            <table>
                <tr>
                    <th>Tipo</th>
                    <th>Evento</th>
                    <th>+Notificações</th>
                </tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                    <td>18623</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>

                    <!-- Mais notificações aqui -->
            </table>
        </div>
    </div>


</body>

</html>

<script src="../public/js/dashboard.js"></script>
<script src="./js/modal.js"></script>



<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

<script>
   const labels = [
    'Oportunidades de socialização', 
    'Bem-estar mental', 
    'Satisfação no trabalho', 
    'Vida pessoal', 
    'Despesas diárias'
];

const data = {
    labels: labels, // Mantido, mas não será exibido
    datasets: [{
        label: 'Pior Aspecto do Trabalho Remoto',
        data: [56, 17.5, 11.9, 7.7, 6.9],
        backgroundColor: [
            '#007bff', 
            '#0056b3', 
            '#6f42c1', 
            '#c71585', 
            '#dc3545'  
        ],
        borderColor: '#fff',
        borderWidth: 2
    }]
};

const config = {
    type: 'pie',
    data: data,
    options: {
        responsive: true,
        plugins: {
            legend: {
                display: true, // Exibe a legenda
                position: 'top',
                labels: {
                    usePointStyle: true,
                    pointStyle: 'rect',
                    padding: 10
                }
            },
            tooltip: {
                enabled: true // Habilita os tooltips quando o usuário passa o mouse
            },
            // datalabels: {
            //     display: true, // Desabilitado, mas comentado para que você possa ativar se precisar
            //     color: '#fff',
            //     formatter: (value, context) => {
            //         let label = context.chart.data.labels[context.dataIndex];
            //         return `${label}: ${value}%`;
            //     }
            // }
        }
    }
};

document.addEventListener('DOMContentLoaded', function () {
    const ctx = document.getElementById('GraficoPiorAspecto').getContext('2d');
    const myChart = new Chart(ctx, config);
});





    // Gráfico de comparação por equipes
    const ctx2 = document.getElementById('comparacaoEquipes').getContext('2d');
    const myBarChart = new Chart(ctx2, {
        type: 'bar',
        data: {
            labels: [
                'Managers',
                'Sales',
                'Chief Executives',
                'Education Professionals',
                'Construction Trades',
                'Hospitality'
            ],
            datasets: [{
                label: 'Produtividade',
                data: [5, 10, 15, 20, 12, 10],
                backgroundColor: '#0A82B0', // Cor azul mais escura
                borderWidth: 1,
                borderRadius: 5,
                barPercentage: 1.5, // Controla a largura da barra em relação à categoria
                categoryPercentage: 0.5
            }, {
                label: 'Satisfação',
                data: [7, 12, 18, 25, 15, 20],
                backgroundColor: '#00bfff', // Cor azul clara
                borderWidth: 1,
                borderRadius: 5,
                barPercentage: 1.5, // Controla a largura da barra em relação à categoria
                categoryPercentage: 0.5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y', // Inverter o gráfico para barras horizontais
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade verticais
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade horizontais
                    }
                }
            },
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom', // Legenda na parte inferior
                },
                title: {
                    display: true,
                    font: {
                        size: 20
                    }
                }
            }
        }
    });

    // Gráfico de feedback por equipes
    // Gráfico de feedback por equipes
const ctx3 = document.getElementById('feedbackEquipes').getContext('2d');
const myFeedbackChart = new Chart(ctx3, {
    type: 'pie',
    data: {
        labels: [
            'Managers',
            'Sales',
            'Chief Executives',
            'Education Professionals',
            'Construction Trades',
            'Hospitality'
        ],
        datasets: [{
            label: 'Feedback Positivo',
            data: [3, 8, 16, 20, 12, 17],
            backgroundColor: ['#0A82B0', '#FF6384', '#FFCE56', '#4BC0C0', '#36A2EB', '#9966FF'],
            borderWidth: 1,
            borderRadius: 7
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false, 
        plugins: {
            legend: {
                display: true, 
                position: 'top'
            },
            title: {
                display: true,
                text: 'Feedback por Equipes',
                font: {
                    size: 20
                }
            }
        }
    }
});


</script>