<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="./css/dashboard.css">
    <link rel="stylesheet" href="./css/notificações.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" type="imagex/png" href="./assets/img/ABA.ico">

</head>

<body onload="validarSessao()">
    <section class="container">
        <aside class="sidebar">
            <div class="imgDash" id="theme-dash">
                <img src="./assets/img/LOGO.png" id="theme-logo" alt="Logo">
            </div>
            <br>
            <div class="divMenu">
                <div class="menu-itemAtivo ">
                    <img class="icon" src="./assets/icon/Dash.png" alt="Dashboards Icon">
                    Dashboard
                </div>
                <div class="menu-item" id="openModalBtn">
                    <img class="icon" src="./assets/icon/Notificações.png" alt="Notificações Icon">
                    Notificações
                </div>
                <a href="./calendario.html">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/calendario (1) 1.png" alt="Suporte - IA Icon">
                        Eventos
                    </div>
                </a>
                <a href="http://localhost:8080">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/Suporte.png" alt="Suporte - IA Icon">
                        Suporte - IA
                    </div>
                </a>
                <a href="./configuracoesPerfil.html">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/Configurações.png" alt="Configurações Icon">
                        Configurações
                    </div>
                </a>
            </div>
            <div class="itemExit" onclick="limparSessao()">
                <p class="pSidebar">Sair</p>
                <img class="iconE" src="./assets/icon/Sair.png" alt="Sair Icon">
            </div>
        </aside>

        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Notificações</h2>
                <table>
                    <tr>
                        <th>Tipo</th>
                        <th>Evento</th>
                        <th>+Notificações</th>
                    </tr>
                    <tr>
                        <td>Feedback Positivo</td>
                        <td>Equipe de Marketing elogiada pela colaboração no projeto X.</td>
                        <td>Ver mais feedbacks positivos sobre a Equipe de Marketing</td>
                    </tr>
                    <tr>
                        <td>Feedback Negativo</td>
                        <td>Alta taxa de insatisfação com o volume de trabalhom</td>
                        <td>Revisar carga de trabalho por departamento</td>
                    </tr>
                    <tr>
                        <td>Feedback Anônimo</td>
                        <td>Sugestão de melhoria no ambiente físico do escritório.</td>
                        <td>Ver todas as sugestões anônimas</td>
                    </tr>
                    <tr>
                    <tr>
                        <td>Reconhecimento</td>
                        <td>Funcionário Y recebeu elogios pela liderança em projeto Z.</td>
                        <td>Ver detalhes do projeto e comentários</td>
                    </tr>
                    <tr>
                    <tr>
                        <td>Sugestão</td>
                        <td>Equipe de TI sugeriu melhorias na comunicação interna.</td>
                        <td>Ver todas as sugestões recentes</td>
                    </tr>
                    <tr>
                    <tr>
                        <td>Engajamento</td>
                        <td>Equipe de Design atingiu alto nível de engajamento nas reuniões semanais.</td>
                        <td>Ver detalhes sobre engajamento na empresa</td>
                    </tr>
                    <tr>

                        <!-- Mais notificações aqui -->
                </table>
            </div>
        </div>

        <header class="headerDash">
            <div class="headerRight">
                <div class="funcionalidadesHeader" id="theme-toggle">
                    <img src="./assets/icon/sun.png" alt="Tema Claro" id="theme-icon">
                </div>
                <div class="vertical"></div>
                <div class="funcionalidadesHeader" id="theme-header1">
                    <img src="./assets/icon/notification (1).png" id="theme-noti" alt="">
                </div>
                <div class="funcionalidadesHeader" id="theme-header2">
                    <img src="./assets/icon/setting (3).png" id="theme-confg" alt="">
                </div>
                <div class="vertical"></div>
                <div class="funcionalidadesHeader" id="theme-header2">
                    <img class="imgPeople" src="./assets/img/image 56.png" id="theme-confg" alt="">

                    
                </div>
            </div>
        </header>

        <section class="graficosDash">
            <div class="textEmpresa">
                <Span class="tittleEmpresa">Nome da Empresa</Span>
                <p class="subtittleEmpresa">GRANDE PORTE - acima de 5.000 colaboradores</p>
            </div>
            <div class="dashTop">
                <div class="KPI1" id="KPI1">
                    <p class="subtittleEmpresa">GENÊRO</p>
                    <div class="infoKPI1">
                        <div class="qtdPessoasM">
                            <Span class="textDados"> 4.588</Span>
                            <p class="textTitulosKpis">MASCULINO</p>
                        </div>
                        <img class="imgSexo" src="./assets/icon/banheiro 1.png" alt="">
                        <hr>
                        <img class="imgSexo" src="./assets/icon/banheiro 2.png" alt="">
                        <div class="qtdPessoas">
                            <Span class="textDados"> 2.475</Span>
                            <p class="textTitulosKpis">FEMININO</p>
                        </div>
                    </div>
                </div>
                <div class="KPI2">
                    <Span class="textDadosG"> 90%</Span>
                    <p class="textTitulosKpis">RESPONDERAM SUA <br> PESQUISA</p>
                </div>

                <div class="area2Kpis">
                    <div class="KPI3">
                        <img src="./assets/icon/felicidade (1) 1.png" alt="">

                        <div class="satisfacao">
                            <Span class="textDados"> 75%</Span>
                            <p class="textTitulosKpis">SATISFEITOS</p>
                        </div>
                    </div>
                    <div class="KPI3">
                        <img src="./assets/icon/triste (1) 1.png" alt="">
                        <div class="satisfacao">
                            <Span class="textDados"> 25%</Span>
                            <p class="textTitulosKpis">INSATISFEITOS</p>
                        </div>
                    </div>
                </div>
                <div class="KPI22">
                    <Span class="textDadosG">48%</Span>
                    <p class="textTitulosKpis">RECOMENDARIAM SUA <br>EMPRESA</p>
                </div>
            </div>


            <div class="dashBottom">
                <div class="KPI6">
                    <div class="tituloKpi1">
                        <span class="tittleEmpresa"> Feedback </span>
                        <select name="" id="">
                            <option value="">Produtividade</option>
                            <option value="">Desempenho</option>
                        </select>
                    </div>
                    <p class="subtittleEmpresaG1">por equipe</p>
                    <canvas id="feedbackEquipes"></canvas>
                </div>

                <div class="KPI4">
                    <span class="tittleEmpresa"> Comparação por equipes</span>
                    <canvas id="comparacaoEquipes"></canvas>
                </div>

                <div class="KPI5">
                    <div class="tituloKpi3">
                        <span class="tittleEmpresaG3"> Piores aspectos <br> do trabalho </span>
                        <select class="selectAspectos" name="" id="">
                            <option value="">Remoto</option>
                            <option value="">Presencial</option>
                        </select>
                    </div>
                    <canvas id="GraficoPiorAspecto" width="400" height="300"></canvas>

                </div>
            </div>
        </section>
    </section>

</body>

</html>

<script src="./js/dashboard.js"></script>
<script src="./js/modal.js"></script>
<script src="./js/sessao.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

<script>
    const labels = [
        'Oportunidades de socialização',
        'Bem-estar mental',
        'Satisfação no trabalho',
        'Vida pessoal',
        'Despesas diárias'
    ];

    const data = {
        labels: labels, // Mantido, mas não será exibido
        datasets: [{
            label: 'Pior Aspecto do Trabalho Remoto',
            data: [56, 17.5, 11.9, 7.7, 6.9],
            backgroundColor: [
                '#007bff',
                '#0056b3',
                '#6f42c1',
                '#c71585',
                '#dc3545'
            ],
            borderColor: '#fff',
            borderWidth: 2
        }]
    };

    const config = {
        type: 'pie',
        data: data,
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: true, // Exibe a legenda
                    position: 'top',
                    labels: {
                        usePointStyle: true,
                        pointStyle: 'rect',
                        padding: 10
                    }
                },
                tooltip: {
                    enabled: true // Habilita os tooltips quando o usuário passa o mouse
                },
                // datalabels: {
                //     display: true, // Desabilitado, mas comentado para que você possa ativar se precisar
                //     color: '#fff',
                //     formatter: (value, context) => {
                //         let label = context.chart.data.labels[context.dataIndex];
                //         return `${label}: ${value}%`;
                //     }
                // }
            }
        }
    };

    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('GraficoPiorAspecto').getContext('2d');
        const myChart = new Chart(ctx, config);
    });





    // Gráfico de comparação por equipes
    const ctx2 = document.getElementById('comparacaoEquipes').getContext('2d');
    const myBarChart = new Chart(ctx2, {
        type: 'bar',
        data: {
            labels: [
                'Managers',
                'Sales',
                'Chief Executives',
                'Education Professionals',
                'Construction Trades',
                'Hospitality'
            ],
            datasets: [{
                label: 'Produtividade',
                data: [5, 10, 15, 20, 12, 10],
                backgroundColor: '#0A82B0', // Cor azul mais escura
                borderWidth: 1,
                borderRadius: 5,
                barPercentage: 1.5, // Controla a largura da barra em relação à categoria
                categoryPercentage: 0.5
            }, {
                label: 'Satisfação',
                data: [7, 12, 18, 25, 15, 20],
                backgroundColor: '#00bfff', // Cor azul clara
                borderWidth: 1,
                borderRadius: 5,
                barPercentage: 1.5, // Controla a largura da barra em relação à categoria
                categoryPercentage: 0.5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y', // Inverter o gráfico para barras horizontais
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade verticais
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade horizontais
                    }
                }
            },
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom', // Legenda na parte inferior
                },
                title: {
                    display: true,
                    font: {
                        size: 20
                    }
                }
            }
        }
    });

    // Gráfico de feedback por equipes
    const ctx3 = document.getElementById('feedbackEquipes').getContext('2d');
    const myFeedbackChart = new Chart(ctx3, {
        type: 'bar',
        data: {
            labels: [
                'Managers',
                'Sales',
                'Chief Executives',
                'Education Professionals',
                'Construction Trades',
                'Hospitality'
            ],
            datasets: [{
                label: 'Feedback Positivo',
                data: [3, 8, 16, 20, 12, 17],
                backgroundColor: '#0A82B0',
                borderWidth: 1,
                borderRadius: 7,
                barPercentage: 1.3,
                categoryPercentage: 0.66
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y', // Muda o eixo para horizontal
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade verticais
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        display: false // Remove as linhas de grade horizontais
                    }
                }
            },
            plugins: {
                legend: {
                    display: false // Remove a legenda
                },
                title: {
                    display: true,
                    font: {
                        size: 20
                    }
                }
            }
        }
    });

</script>