<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="./css/dashboard.css">
    <link rel="stylesheet" href="./css/notificações.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body onload="validarSessao()">
    <section class="container">
        <aside class="sidebar">
            <div class="imgDash" id="theme-dash">
                <img src="./assets/img/LOGO.png" id="theme-logo" alt="Logo">
            </div>
            <br>
            <div class="divMenu">
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/Dash.png" alt="Dashboards Icon">
                    Dashboards
                </div>
                <a class="linkPag" href="./equipes.html">
                    <div class="menu-item">
                        <img class="icon" src="./assets/icon/Equipes.png" alt="Equipes Icon">
                        Equipes
                    </div>
                </a>
                <div class="menu-item" id="openModalBtn">
                    <img class="icon" src="./assets/icon/Notificações.png" alt="Notificações Icon">
                    Notificações
                </div>
                <a href="./calendario.html">
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/calendario (1) 1.png" alt="Suporte - IA Icon">
                    Eventos
                </div>
            </a>
            <a href="http://localhost:8080">
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/Suporte.png" alt="Suporte - IA Icon">
                    Suporte - IA
                </div>
            </a>
                <div class="menu-item">
                    <img class="icon" src="./assets/icon/Configurações.png" alt="Configurações Icon">
                    Configurações
                </div>
            </div>
            <div class="itemExit">
                <p class="pSidebar">Sair</p>
                <img class="iconE" src="./assets/icon/Sair.png" alt="Sair Icon">
            </div>
        </aside>

        <header class="headerDash">
            <div class="headerRight">
                <div class="funcionalidadesHeader" id="theme-toggle">
                    <img src="./assets/icon/Light.png" alt="Tema Claro" id="theme-icon">
                </div>
                <div class="vertical"></div>
                <div class="funcionalidadesHeader" id="theme-header1">
                    <img src="./assets/icon/image 35.png" id="theme-noti" alt="">
                </div>
                <div class="funcionalidadesHeader" id="theme-header2">
                    <img src="./assets/icon/image 34.png" id="theme-confg" alt="">
                </div>
                <div class="vertical"></div>
            </div>
        </header>

        <section class="graficosDash">
            <div class="textEmpresa">
            <Span class="tittleEmpresa">FINANCEIRO</Span>
            <p class="subtittleEmpresa">GRANDE PORTE - acima de 400 colaboradores</p>
        </div>
            <div class="dashTop">
                <div class="KPI1" id="KPI1">
                    <p class="subtittleEmpresa">GENÊRO</p>
                    <canvas id="myChart"></canvas>
                </div>
                <div class="KPI2"></div>
                <div class="KPI2"></div>
                <div class="KPI2">
                    <p class="subtittleEmpresa">TEMPO MÉDIO DE <br> PRODUTIVIDADE</p>
                    <Span class="tittleEmpresa">7.5 HRS</Span>
                </div>
            </div>


            <div class="dashBottom">
                <div class="KPI4">
                    <p class="subtittleEmpresa">Selecione o PIOR aspecto do trabalho remoto <br> para você </p>
                    <canvas id="GraficoPiorAspecto"></canvas>
                </div>
                <div class="KPI5"></div>
            </div>
        </section>

    </section>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Notificações</h2>
            <table>
                <tr>
                    <th>Tipo</th>
                    <th>Evento</th>
                    <th>+Notificações</th>
                </tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                    <td>18623</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>
                <tr>
                    <td>15155</td>
                    <td>Lorem ipsum</td>
                    <td>email</td>
                </tr>
                <tr>

                    <!-- Mais notificações aqui -->
            </table>
        </div>
    </div>


</body>

</html>

<script src="../public/js/dashboard.js"></script>
<script src="./js/modal.js"></script>
    
<script>
document.addEventListener('DOMContentLoaded', function () {
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ['Mulheres', 'Homens'],
            datasets: [{
                label: 'Genêros na Empresa',
                data: [57, 43],
                backgroundColor: [
                    'rgb(32, 165, 223)',
                    'rgb(10, 130, 176)'
                ],
                hoverOffset: 4
            }]
        },
        options: {
            maintainAspectRatio: false, // Permite ajustar o gráfico no CSS
            plugins: {
                legend: {
                    position: 'right',
                    labels: {
                        boxWidth: 10,
                        padding: 10
                    }
                }
            }
        }
    });
});

</script>

<script>
    const labels = ['Minhas oportunidades de socialização', 'Minhas despesas diárias', 'Minha satisfação no trabalho', 'Meu bem-estar mental', 'Gerenciando meus compromissos pessoais'];
    const data = {
        labels: labels,
        datasets: [{
            axis: 'y',
            label: '',
            data: [560, 69, 119, 175, 77],
            fill: false,
            backgroundColor: [
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)',
                'rgb(32, 165, 223)'
            ],
            borderWidth: 1
        }]
    };
    
    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('GraficoPiorAspecto').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                legend: {
                    display: false // Remove a legenda do gráfico
                }
            }, 
            elements: {
                bar: {
                    borderRadius: 4
                }
            }
        }
    });
});
    </script>